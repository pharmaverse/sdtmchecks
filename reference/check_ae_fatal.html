<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Check for death variable consistency when AEOUT=="FATAL" — check_ae_fatal • sdtmchecks</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Check for death variable consistency when AEOUT==" fatal check_ae_fatal><meta property="og:description" content="This check looks for consistency in AESDTH, AEDTHDTC, and
AETOXGR (if applicable) when AEOUT is 'FATAL'.  Note, this check expects
AE grade/severity variables to be populated for either all records or none.
In a case where both AETOXGR and AESEV exist and some records are supposed
to have AETOXGR populated while others have AESEV (ie the two variables are
mutually exclusive) then this check will likely return false positives."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdtmchecks</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.11.9010</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/sdtmchecks.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/write_a_check.html">Writing a New Check</a>
    </li>
    <li>
      <a href="../articles/search_checks.html">Search Data Check Functions</a>
    </li>
    <li>
      <a href="../articles/faqs.html">Frequently Asked Questions (FAQs)</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Releases</li>
    <li>
      <a href="../news/index.html#sdtmchecks-0111-light-ice">sdtmchecks 0.1.11</a>
    </li>
    <li>
      <a href="../news/index.html#sdtmchecks-0110-light-ice">sdtmchecks 0.1.10</a>
    </li>
    <li>
      <a href="../news/index.html#sdtmchecks-018-bubble-and-squeak">sdtmchecks 0.1.8</a>
    </li>
    <li>
      <a href="../news/index.html#sdtmchecks-016-bubble-and-squeak">sdtmchecks 0.1.6</a>
    </li>
    <li>
      <a href="../news/index.html#sdtmchecks-015-hunter-pi">sdtmchecks 0.1.5</a>
    </li>
    <li>
      <a href="../news/index.html#sdtmchecks-014-very-cool-nickname">sdtmchecks 0.1.2-0.1.4</a>
    </li>
    <li>
      <a href="../news/index.html#sdtmchecks-011-open-up">sdtmchecks 0.1.1</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/pharmaverse/sdtmchecks" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Check for death variable consistency when AEOUT=="FATAL"</h1>
    <small class="dont-index">Source: <a href="https://github.com/pharmaverse/sdtmchecks/blob/HEAD/R/check_ae_fatal.R" class="external-link"><code>R/check_ae_fatal.R</code></a></small>
    <div class="hidden name"><code>check_ae_fatal.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This check looks for consistency in AESDTH, AEDTHDTC, and
AETOXGR (if applicable) when AEOUT is 'FATAL'.  Note, this check expects
AE grade/severity variables to be populated for either all records or none.
In a case where both AETOXGR and AESEV exist and some records are supposed
to have AETOXGR populated while others have AESEV (ie the two variables are
mutually exclusive) then this check will likely return false positives.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span>, preproc <span class="op">=</span> <span class="va">identity</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>AE</dt>
<dd><p>Adverse Events SDTM dataset with variables USUBJID, AEDECOD,
AESTDTC, AEDTHDTC, AEOUT, AESDTH</p></dd>


<dt>preproc</dt>
<dd><p>An optional company specific preprocessing script</p></dd>


<dt>...</dt>
<dd><p>Other arguments passed to methods</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>boolean value if check failed or passed with 'msg' attribute if the
test failed</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Aldrich Salva</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># AETOXGR, no AESEV</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">AE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> USUBJID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span></span>
<span class="r-in"><span> AESTDTC <span class="op">=</span> <span class="st">"01JAN2017"</span>,</span></span>
<span class="r-in"><span> AEDECOD <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AE1"</span>,<span class="st">"AE2"</span>,<span class="st">"AE3"</span>,<span class="st">"AE4"</span>,<span class="st">"AE5"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AEOUT <span class="op">=</span> <span class="st">"FATAL"</span>,</span></span>
<span class="r-in"><span> AEDTHDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01FEB2017"</span>,<span class="cn">NA</span>,<span class="st">"02FEB2017"</span>,<span class="st">"03FEB2017"</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESDTH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y"</span>,<span class="st">"Y"</span>,<span class="st">"N"</span>,<span class="st">"Y"</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AETOXGR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"5"</span>,<span class="st">"5"</span>,<span class="st">"5"</span>,<span class="cn">NA</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESPID <span class="op">=</span> <span class="st">"FORMNAME-R:12/L:2XXXX"</span>,</span></span>
<span class="r-in"><span> stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 4 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH AETOXGR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL      &lt;NA&gt;      Y       5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 02FEB2017      N       5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       4 01JAN2017     AE4 FATAL 03FEB2017      Y    &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;</span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span>,preproc<span class="op">=</span><span class="va">roche_derive_rave_row</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 4 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH AETOXGR          RAVE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL      &lt;NA&gt;      Y       5 FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 02FEB2017      N       5 FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       4 01JAN2017     AE4 FATAL 03FEB2017      Y    &lt;NA&gt; FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt; FORMNAME-R:12</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">AE</span><span class="op">$</span><span class="va">AETOXGR</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 3 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL      &lt;NA&gt;      Y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 02FEB2017      N</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">AE</span><span class="op">$</span><span class="va">AEDECOD</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE is missing the variable: AEDECOD"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># AESEV, no AETOXGR</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">AE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> USUBJID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span></span>
<span class="r-in"><span> AESTDTC <span class="op">=</span> <span class="st">"01JAN2017"</span>,</span></span>
<span class="r-in"><span> AEDECOD <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AE1"</span>,<span class="st">"AE2"</span>,<span class="st">"AE3"</span>,<span class="st">"AE4"</span>,<span class="st">"AE5"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AEOUT <span class="op">=</span> <span class="st">"FATAL"</span>,</span></span>
<span class="r-in"><span> AEDTHDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01FEB2017"</span>,<span class="st">"02FEB2017"</span>,<span class="st">"03FEB2017"</span>,<span class="st">"04FEB2017"</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESDTH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y"</span>,<span class="st">"Y"</span>,<span class="st">"N"</span>,<span class="st">"Y"</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESEV <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SEVERE"</span>,<span class="st">"MILD"</span>,<span class="st">"SEVERE"</span>,<span class="cn">NA</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESPID <span class="op">=</span> <span class="st">"FORMNAME-R:12/L:2XXXX"</span>,</span></span>
<span class="r-in"><span> stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 3 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH  AESEV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL 02FEB2017      Y   MILD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 03FEB2017      N SEVERE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;</span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span>,preproc<span class="op">=</span><span class="va">roche_derive_rave_row</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 3 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH  AESEV          RAVE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL 02FEB2017      Y   MILD FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 03FEB2017      N SEVERE FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt; FORMNAME-R:12</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">AE</span><span class="op">$</span><span class="va">AESEV</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 2 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       3 01JAN2017     AE3 FATAL 03FEB2017      N</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Both AESEV and AETOXGR have non-missing values</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">AE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> USUBJID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">7</span>,</span></span>
<span class="r-in"><span> AESTDTC <span class="op">=</span> <span class="st">"01JAN2017"</span>,</span></span>
<span class="r-in"><span> AEDECOD <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AE1"</span>,<span class="st">"AE2"</span>,<span class="st">"AE3"</span>,<span class="st">"AE4"</span>,<span class="st">"AE5"</span>,<span class="st">"AE6"</span>,<span class="st">"AE7"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AEOUT <span class="op">=</span> <span class="st">"FATAL"</span>,</span></span>
<span class="r-in"><span> AEDTHDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01FEB2017"</span>,<span class="cn">NA</span>,<span class="st">"02FEB2017"</span>,<span class="st">"03FEB2017"</span>,<span class="cn">NA</span>,<span class="st">"04FEB2017"</span>,<span class="st">"05FEB2017"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESDTH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y"</span>,<span class="st">"Y"</span>,<span class="st">"N"</span>,<span class="st">"Y"</span>,<span class="cn">NA</span>,<span class="st">"Y"</span>,<span class="st">"Y"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESEV <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SEVERE"</span>,<span class="st">"MILD"</span>,<span class="st">"SEVERE"</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="st">"MILD"</span>,<span class="st">"SEVERE"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AETOXGR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"5"</span>,<span class="st">"5"</span>,<span class="st">"5"</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="st">"1"</span>,<span class="st">"5"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESPID <span class="op">=</span> <span class="st">"FORMNAME-R:12/L:2XXXX"</span>,</span></span>
<span class="r-in"><span> stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 5 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH  AESEV AETOXGR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL      &lt;NA&gt;      Y   MILD       5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 02FEB2017      N SEVERE       5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       4 01JAN2017     AE4 FATAL 03FEB2017      Y   &lt;NA&gt;    &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       6 01JAN2017     AE6 FATAL 04FEB2017      Y   MILD       1</span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span>,preproc<span class="op">=</span><span class="va">roche_derive_rave_row</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 5 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH  AESEV AETOXGR          RAVE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL      &lt;NA&gt;      Y   MILD       5 FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 02FEB2017      N SEVERE       5 FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       4 01JAN2017     AE4 FATAL 03FEB2017      Y   &lt;NA&gt;    &lt;NA&gt; FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;    &lt;NA&gt; FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       6 01JAN2017     AE6 FATAL 04FEB2017      Y   MILD       1 FORMNAME-R:12</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Neither AESEV or AETOXGR</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">AE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> USUBJID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span></span>
<span class="r-in"><span> AESTDTC <span class="op">=</span> <span class="st">"01JAN2017"</span>,</span></span>
<span class="r-in"><span> AEDECOD <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AE1"</span>,<span class="st">"AE2"</span>,<span class="st">"AE3"</span>,<span class="st">"AE4"</span>,<span class="st">"AE5"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AEOUT <span class="op">=</span> <span class="st">"FATAL"</span>,</span></span>
<span class="r-in"><span> AEDTHDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01FEB2017"</span>,<span class="cn">NA</span>,<span class="st">"02FEB2017"</span>,<span class="st">"03FEB2017"</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESDTH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y"</span>,<span class="st">"Y"</span>,<span class="st">"N"</span>,<span class="st">"Y"</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESPID <span class="op">=</span> <span class="st">"FORMNAME-R:12/L:2XXXX"</span>,</span></span>
<span class="r-in"><span> stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 3 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL      &lt;NA&gt;      Y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 02FEB2017      N</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># AETOXGR exists but unmapped AESEV</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">AE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> USUBJID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span></span>
<span class="r-in"><span> AESTDTC <span class="op">=</span> <span class="st">"01JAN2017"</span>,</span></span>
<span class="r-in"><span> AEDECOD <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AE1"</span>,<span class="st">"AE2"</span>,<span class="st">"AE3"</span>,<span class="st">"AE4"</span>,<span class="st">"AE5"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AEOUT <span class="op">=</span> <span class="st">"FATAL"</span>,</span></span>
<span class="r-in"><span> AEDTHDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01FEB2017"</span>,<span class="cn">NA</span>,<span class="st">"02FEB2017"</span>,<span class="st">"03FEB2017"</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESDTH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y"</span>,<span class="st">"Y"</span>,<span class="st">"N"</span>,<span class="st">"Y"</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESEV <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AETOXGR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"5"</span>,<span class="st">"5"</span>,<span class="st">"5"</span>,<span class="cn">NA</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESPID <span class="op">=</span> <span class="st">"FORMNAME-R:12/L:2XXXX"</span>,</span></span>
<span class="r-in"><span> stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 4 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH AESEV AETOXGR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL      &lt;NA&gt;      Y    NA       5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 02FEB2017      N    NA       5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       4 01JAN2017     AE4 FATAL 03FEB2017      Y    NA    &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;    NA    &lt;NA&gt;</span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span>,preproc<span class="op">=</span><span class="va">roche_derive_rave_row</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 4 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH AESEV AETOXGR          RAVE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL      &lt;NA&gt;      Y    NA       5 FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 02FEB2017      N    NA       5 FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       4 01JAN2017     AE4 FATAL 03FEB2017      Y    NA    &lt;NA&gt; FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;    NA    &lt;NA&gt; FORMNAME-R:12</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># AETOXGR and AESEV exist, by both are unmapped</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">AE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> USUBJID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span></span>
<span class="r-in"><span> AESTDTC <span class="op">=</span> <span class="st">"01JAN2017"</span>,</span></span>
<span class="r-in"><span> AEDECOD <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AE1"</span>,<span class="st">"AE2"</span>,<span class="st">"AE3"</span>,<span class="st">"AE4"</span>,<span class="st">"AE5"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AEOUT <span class="op">=</span> <span class="st">"FATAL"</span>,</span></span>
<span class="r-in"><span> AEDTHDTC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01FEB2017"</span>,<span class="cn">NA</span>,<span class="st">"02FEB2017"</span>,<span class="st">"03FEB2017"</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESDTH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Y"</span>,<span class="st">"Y"</span>,<span class="st">"N"</span>,<span class="st">"Y"</span>,<span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> AESEV <span class="op">=</span> <span class="cn">NA</span>,</span></span>
<span class="r-in"><span> AETOXGR <span class="op">=</span> <span class="cn">NA</span>,</span></span>
<span class="r-in"><span> AESPID <span class="op">=</span> <span class="st">"FORMNAME-R:12/L:2XXXX"</span>,</span></span>
<span class="r-in"><span> stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 3 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH AESEV AETOXGR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL      &lt;NA&gt;      Y    NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 02FEB2017      N    NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;    NA      NA</span>
<span class="r-in"><span><span class="fu">check_ae_fatal</span><span class="op">(</span><span class="va">AE</span>,preproc<span class="op">=</span><span class="va">roche_derive_rave_row</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"msg")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AE has 3 patient(s) with AE death variable inconsistencies when outcome marked FATAL. "</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"data")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID   AESTDTC AEDECOD AEOUT  AEDTHDTC AESDTH AESEV AETOXGR          RAVE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       2 01JAN2017     AE2 FATAL      &lt;NA&gt;      Y    NA      NA FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       3 01JAN2017     AE3 FATAL 02FEB2017      N    NA      NA FORMNAME-R:12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       5 01JAN2017     AE5 FATAL      &lt;NA&gt;   &lt;NA&gt;    NA      NA FORMNAME-R:12</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Will Harris, Sara Bodach, Edgar Manukyan, Adrian Waddell, F. Hoffmann-La Roche AG.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

