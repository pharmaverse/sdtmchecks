<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Check that an infusion drug has same start/end exposure dates, also including missing start/end dates — check_ex_infusion_exstdtc_exendtc • sdtmchecks</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Check that an infusion drug has same start/end exposure dates, also including missing start/end dates — check_ex_infusion_exstdtc_exendtc" />
<meta property="og:description" content="This check identifies that an infusion drug has same EXSTDTC and EXENDTC dateparts.
If time is available for both dates, also check that end time is after start time.
Missing start/end dates are also included." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdtmchecks</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2022-10-26</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/write_a_check.html">Writing a New Check</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Check that an infusion drug has same start/end exposure dates, also including missing start/end dates</h1>
    
    <div class="hidden name"><code>check_ex_infusion_exstdtc_exendtc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This check identifies that an infusion drug has same EXSTDTC and EXENDTC dateparts.
If time is available for both dates, also check that end time is after start time.
Missing start/end dates are also included.</p>
    </div>

    <pre class="usage"><span class='fu'>check_ex_infusion_exstdtc_exendtc</span><span class='op'>(</span><span class='va'>EX</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>EX</th>
      <td><p>Exposure SDTM dataset with variables USUBJID,EXTRT,EXSTDTC,EXENDTC,EXROUTE</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>boolean value if check failed or passed with 'msg' attribute if the
test failed</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Anastasiia Khmelnytska, Stella Banjo(HackR 2021)</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='va'>EX</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
 STUDYID <span class='op'>=</span> <span class='fl'>1</span>,
 USUBJID <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>12</span>,
 EXTRT <span class='op'>=</span> <span class='st'>"SOME DRUG"</span>,
 EXROUTE <span class='op'>=</span> <span class='st'>"INTRAVENOUS"</span>,
 EXSTDTC <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2017-01-01"</span>,<span class='st'>"2017-01-02"</span>,<span class='st'>"2017-01-01T14:36"</span>,<span class='st'>"2015"</span>,<span class='st'>"2017-02"</span>,<span class='st'>"2017"</span>      ,<span class='st'>""</span>    ,
             <span class='st'>"2017"</span>   ,<span class='st'>"2017-01-01T14:26"</span>,<span class='st'>"2017-01-01T14:26"</span>,<span class='st'>"2017-01-01T14"</span>,<span class='st'>"2017-01-01T14:26:01"</span><span class='op'>)</span>
             ,
 EXENDTC <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2017-01-01"</span>,<span class='st'>"2017-01-03"</span>,<span class='st'>"2017-01-01T14:35"</span>,<span class='st'>"2017"</span>,<span class='st'>"2017-01"</span>,<span class='st'>"2016-01-01"</span>,<span class='st'>"2000"</span>,
             <span class='st'>"2017-02"</span>,<span class='st'>"2017-01-01"</span>      ,<span class='st'>"2017-01"</span>,<span class='st'>"2017-01-01T13"</span>,<span class='st'>"2017-01-02T14:26:02"</span><span class='op'>)</span>
             ,
 EXOCCUR <span class='op'>=</span> <span class='st'>"Y"</span>,
 VISIT <span class='op'>=</span> <span class='st'>"CYCLE 1 DAY 1"</span>,
 stringsAsFactors<span class='op'>=</span><span class='cn'>FALSE</span>
<span class='op'>)</span>

 <span class='fu'>check_ex_infusion_exstdtc_exendtc</span><span class='op'>(</span><span class='va'>EX</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] FALSE
#&gt; attr(,"msg")
#&gt; [1] "EX has 6 record(s) with issues on date checks and 3 record(s) with issues on date/time checks. "
#&gt; attr(,"data")
#&gt;   USUBJID     EXTRT             EXSTDTC             EXENDTC         VISIT
#&gt; 1       2 SOME DRUG          2017-01-02          2017-01-03 CYCLE 1 DAY 1
#&gt; 2       4 SOME DRUG                2015                2017 CYCLE 1 DAY 1
#&gt; 3       5 SOME DRUG             2017-02             2017-01 CYCLE 1 DAY 1
#&gt; 4       6 SOME DRUG                2017          2016-01-01 CYCLE 1 DAY 1
#&gt; 5       7 SOME DRUG                                    2000 CYCLE 1 DAY 1
#&gt; 6       8 SOME DRUG                2017             2017-02 CYCLE 1 DAY 1
#&gt; 7       3 SOME DRUG    2017-01-01T14:36    2017-01-01T14:35 CYCLE 1 DAY 1
#&gt; 8      11 SOME DRUG       2017-01-01T14       2017-01-01T13 CYCLE 1 DAY 1
#&gt; 9      12 SOME DRUG 2017-01-01T14:26:01 2017-01-02T14:26:02 CYCLE 1 DAY 1
#&gt;                                          check_stat check_flag
#&gt; 1             Different Start/End date for Infusion          A
#&gt; 2             Different Start/End date for Infusion          A
#&gt; 3             Different Start/End date for Infusion          A
#&gt; 4             Different Start/End date for Infusion          A
#&gt; 5                                Missing Start date          C
#&gt; 6             Different Start/End date for Infusion          A
#&gt; 7 Same Start/End date but Start time after End time          D
#&gt; 8 Same Start/End date but Start time after End time          D
#&gt; 9             Different Start/End date for Infusion          A</div><div class='input'>
 <span class='va'>EX2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
 STUDYID <span class='op'>=</span> <span class='fl'>1</span>,
 USUBJID <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span>,
 EXTRT <span class='op'>=</span> <span class='st'>"SOME DRUG"</span>,
 EXROUTE <span class='op'>=</span> <span class='st'>"INTRAVENOUS"</span>,
 EXSTDTC <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2017-01-03"</span>, <span class='st'>""</span>, <span class='st'>"2017-02-01T14:26"</span>, <span class='st'>""</span><span class='op'>)</span>,
 EXENDTC <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>""</span>, <span class='st'>"2017-02-03"</span>, <span class='st'>""</span>, <span class='st'>"2017-02-02T14:26:02"</span><span class='op'>)</span>,
 EXOCCUR <span class='op'>=</span> <span class='st'>"Y"</span>,
 VISIT <span class='op'>=</span> <span class='st'>"CYCLE 1 DAY 1"</span>,
 stringsAsFactors <span class='op'>=</span> <span class='cn'>FALSE</span>
 <span class='op'>)</span>

 <span class='fu'>check_ex_infusion_exstdtc_exendtc</span><span class='op'>(</span><span class='va'>EX2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] FALSE
#&gt; attr(,"msg")
#&gt; [1] "EX has 2 record(s) with issues on date checks and 2 record(s) with issues on date/time checks. "
#&gt; attr(,"data")
#&gt;   USUBJID     EXTRT          EXSTDTC             EXENDTC         VISIT
#&gt; 1       1 SOME DRUG       2017-01-03                     CYCLE 1 DAY 1
#&gt; 2       2 SOME DRUG                           2017-02-03 CYCLE 1 DAY 1
#&gt; 3       3 SOME DRUG 2017-02-01T14:26                     CYCLE 1 DAY 1
#&gt; 4       4 SOME DRUG                  2017-02-02T14:26:02 CYCLE 1 DAY 1
#&gt;                check_stat check_flag
#&gt; 1        Missing End date          B
#&gt; 2      Missing Start date          C
#&gt; 3   Missing End date/time          F
#&gt; 4 Missing Start date/time          G</div><div class='input'>
 <span class='va'>EX3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
     STUDYID <span class='op'>=</span> <span class='fl'>1</span>,
     USUBJID <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>,
     EXTRT <span class='op'>=</span> <span class='st'>"SOME DRUG"</span>,
     EXROUTE <span class='op'>=</span> <span class='st'>"INTRAVENOUS"</span>,
     EXSTDTC <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2017-01-01"</span>, <span class='st'>"2017-01-01T14:26"</span>, <span class='st'>"2017-01-01T14:26"</span><span class='op'>)</span>,
     EXENDTC <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2017-01-01"</span>, <span class='st'>"2017-01-01"</span>, <span class='st'>"2017-01"</span><span class='op'>)</span>,
     EXOCCUR <span class='op'>=</span> <span class='st'>"Y"</span>,
     VISIT <span class='op'>=</span> <span class='st'>"CYCLE 1 DAY 1"</span>,
     stringsAsFactors<span class='op'>=</span><span class='cn'>FALSE</span>
 <span class='op'>)</span>

 <span class='fu'>check_ex_infusion_exstdtc_exendtc</span><span class='op'>(</span><span class='va'>EX3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Will Harris.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


